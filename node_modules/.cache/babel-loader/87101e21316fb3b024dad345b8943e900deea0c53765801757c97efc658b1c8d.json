{"ast":null,"code":"import { resolveComponent as _resolveComponent, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, Fragment as _Fragment, createElementBlock as _createElementBlock, withCtx as _withCtx, createVNode as _createVNode, createElementVNode as _createElementVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-53885be6\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = {\n  key: 0\n};\nconst _hoisted_2 = {\n  key: 1,\n  class: \"editable-row-operations\"\n};\nconst _hoisted_3 = {\n  key: 0\n};\nconst _hoisted_4 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"a\", null, \"Cancel\", -1 /* HOISTED */));\nconst _hoisted_5 = {\n  key: 1\n};\nconst _hoisted_6 = [\"onClick\"];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_a_input = _resolveComponent(\"a-input\");\n  const _component_a_typography_link = _resolveComponent(\"a-typography-link\");\n  const _component_a_popconfirm = _resolveComponent(\"a-popconfirm\");\n  const _component_a_table = _resolveComponent(\"a-table\");\n  return _openBlock(), _createBlock(_component_a_table, {\n    columns: $setup.columns,\n    \"data-source\": $setup.dataSource,\n    bordered: \"\"\n  }, {\n    bodyCell: _withCtx(({\n      column,\n      text,\n      record\n    }) => [['name', 'age', 'address'].includes(column.dataIndex) ? (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [$setup.editableData[record.key] ? (_openBlock(), _createBlock(_component_a_input, {\n      key: 0,\n      value: $setup.editableData[record.key][column.dataIndex],\n      \"onUpdate:value\": $event => $setup.editableData[record.key][column.dataIndex] = $event,\n      style: {\n        \"margin\": \"-5px 0\"\n      }\n    }, null, 8 /* PROPS */, [\"value\", \"onUpdate:value\"])) : (_openBlock(), _createElementBlock(_Fragment, {\n      key: 1\n    }, [_createTextVNode(_toDisplayString(text), 1 /* TEXT */)], 64 /* STABLE_FRAGMENT */))])) : column.dataIndex === 'operation' ? (_openBlock(), _createElementBlock(\"div\", _hoisted_2, [$setup.editableData[record.key] ? (_openBlock(), _createElementBlock(\"span\", _hoisted_3, [_createVNode(_component_a_typography_link, {\n      onClick: $event => $setup.save(record.key)\n    }, {\n      default: _withCtx(() => [_createTextVNode(\"Save\")]),\n      _: 2 /* DYNAMIC */\n    }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"onClick\"]), _createVNode(_component_a_popconfirm, {\n      title: \"Sure to cancel?\",\n      onConfirm: $event => $setup.cancel(record.key)\n    }, {\n      default: _withCtx(() => [_hoisted_4]),\n      _: 2 /* DYNAMIC */\n    }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"onConfirm\"])])) : (_openBlock(), _createElementBlock(\"span\", _hoisted_5, [_createElementVNode(\"a\", {\n      onClick: $event => $setup.edit(record.key)\n    }, \"Edit\", 8 /* PROPS */, _hoisted_6)]))])) : _createCommentVNode(\"v-if\", true)]),\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"data-source\"]);\n}","map":{"version":3,"names":["key","class","_createElementVNode","_createBlock","_component_a_table","columns","$setup","dataSource","bordered","bodyCell","_withCtx","column","text","record","includes","dataIndex","_createElementBlock","_hoisted_1","editableData","_component_a_input","value","$event","style","_Fragment","_createTextVNode","_toDisplayString","_hoisted_2","_hoisted_3","_createVNode","_component_a_typography_link","onClick","save","default","_","_component_a_popconfirm","title","onConfirm","cancel","_hoisted_4","_hoisted_5","edit","_hoisted_6","_createCommentVNode"],"sources":["C:\\Users\\bobxi\\OneDrive\\Desktop\\Ecloud\\tut8\\my-vue-app\\src\\components\\AdminList.vue"],"sourcesContent":["<template>\r\n    <a-table :columns=\"columns\" :data-source=\"dataSource\" bordered>\r\n      <template #bodyCell=\"{ column, text, record }\">\r\n        <template v-if=\"['name', 'age', 'address'].includes(column.dataIndex)\">\r\n          <div>\r\n            <a-input\r\n              v-if=\"editableData[record.key]\"\r\n              v-model:value=\"editableData[record.key][column.dataIndex]\"\r\n              style=\"margin: -5px 0\"\r\n            />\r\n            <template v-else>\r\n              {{ text }}\r\n            </template>\r\n          </div>\r\n        </template>\r\n        <template v-else-if=\"column.dataIndex === 'operation'\">\r\n          <div class=\"editable-row-operations\">\r\n            <span v-if=\"editableData[record.key]\">\r\n              <a-typography-link @click=\"save(record.key)\">Save</a-typography-link>\r\n              <a-popconfirm title=\"Sure to cancel?\" @confirm=\"cancel(record.key)\">\r\n                <a>Cancel</a>\r\n              </a-popconfirm>\r\n            </span>\r\n            <span v-else>\r\n              <a @click=\"edit(record.key)\">Edit</a>\r\n            </span>\r\n          </div>\r\n        </template>\r\n      </template>\r\n    </a-table>\r\n  </template>\r\n  <script setup>\r\n  import { cloneDeep } from 'lodash-es';\r\n  import { reactive, ref } from 'vue';\r\n  const columns = [\r\n    {\r\n      title: 'Name',\r\n      dataIndex: 'name',\r\n      width: '8%',\r\n    },\r\n    {\r\n      title: 'Age',\r\n      dataIndex: 'age',\r\n      width: '5%',\r\n    },\r\n    {\r\n      title: 'Gender',\r\n      dataIndex: 'gender',\r\n      width: '6%',\r\n    },\r\n    {\r\n      title: 'Email',\r\n      dataIndex: 'Email',\r\n      width: '20%',\r\n    },\r\n    {\r\n      title: 'Edit',\r\n      dataIndex: 'Edit',\r\n    },\r\n  ];\r\n  const data = [];\r\n  for (let i = 0; i < 100; i++) {\r\n    data.push({\r\n      key: i.toString(),\r\n      name: `Edrward ${i}`,\r\n      age: 32,\r\n      address: `London Park no. ${i}`,\r\n    });\r\n  }\r\n  const dataSource = ref(data);\r\n  const editableData = reactive({});\r\n  const edit = key => {\r\n    editableData[key] = cloneDeep(dataSource.value.filter(item => key === item.key)[0]);\r\n  };\r\n  const save = key => {\r\n    Object.assign(dataSource.value.filter(item => key === item.key)[0], editableData[key]);\r\n    delete editableData[key];\r\n  };\r\n  const cancel = key => {\r\n    delete editableData[key];\r\n  };\r\n  </script>\r\n  <style scoped>\r\n  .editable-row-operations a {\r\n    margin-right: 8px;\r\n  }\r\n  </style>"],"mappings":";;;EAAAA,GAAA;AAAA;;EAAAA,GAAA;EAgBeC,KAAK,EAAC;;;EAhBrBD,GAAA;AAAA;gEAoBgBE,mBAAA,CAAa,WAAV,QAAM;;EApBzBF,GAAA;AAAA;mBAAA;;;;;;uBACIG,YAAA,CA4BUC,kBAAA;IA5BAC,OAAO,EAAEC,MAAA,CAAAD,OAAO;IAAG,aAAW,EAAEC,MAAA,CAAAC,UAAU;IAAEC,QAAQ,EAAR;;IACzCC,QAAQ,EAAAC,QAAA,CACjB,CAWW;MAZUC,MAAM;MAAEC,IAAI;MAAEC;IAAM,O,2BACEC,QAAQ,CAACH,MAAM,CAACI,SAAS,K,cAClEC,mBAAA,CASM,OAbhBC,UAAA,GAMoBX,MAAA,CAAAY,YAAY,CAACL,MAAM,CAACb,GAAG,K,cAD/BG,YAAA,CAIEgB,kBAAA;MATdnB,GAAA;MAOsBoB,KAAK,EAAEd,MAAA,CAAAY,YAAY,CAACL,MAAM,CAACb,GAAG,EAAEW,MAAM,CAACI,SAAS;MAPtE,kBAAAM,MAAA,IAO6Bf,MAAA,CAAAY,YAAY,CAACL,MAAM,CAACb,GAAG,EAAEW,MAAM,CAACI,SAAS,IAAAM,MAAA;MACxDC,KAAsB,EAAtB;QAAA;MAAA;2EAEFN,mBAAA,CAEWO,SAAA;MAZvBvB,GAAA;IAAA,IAAAwB,gBAAA,CAAAC,gBAAA,CAWiBb,IAAI,iB,kCAIQD,MAAM,CAACI,SAAS,oB,cACnCC,mBAAA,CAUM,OAVNU,UAUM,GATQpB,MAAA,CAAAY,YAAY,CAACL,MAAM,CAACb,GAAG,K,cAAnCgB,mBAAA,CAKO,QAtBnBW,UAAA,GAkBcC,YAAA,CAAqEC,4BAAA;MAAjDC,OAAK,EAAAT,MAAA,IAAEf,MAAA,CAAAyB,IAAI,CAAClB,MAAM,CAACb,GAAG;;MAlBxDgC,OAAA,EAAAtB,QAAA,CAkB2D,MAAI,CAlB/Dc,gBAAA,CAkB2D,MAAI,E;MAlB/DS,CAAA;sDAmBcL,YAAA,CAEeM,uBAAA;MAFDC,KAAK,EAAC,iBAAiB;MAAEC,SAAO,EAAAf,MAAA,IAAEf,MAAA,CAAA+B,MAAM,CAACxB,MAAM,CAACb,GAAG;;MAnB/EgC,OAAA,EAAAtB,QAAA,CAoBgB,MAAa,CAAb4B,UAAa,C;MApB7BL,CAAA;2EAuBYjB,mBAAA,CAEO,QAzBnBuB,UAAA,GAwBcrC,mBAAA,CAAqC;MAAjC4B,OAAK,EAAAT,MAAA,IAAEf,MAAA,CAAAkC,IAAI,CAAC3B,MAAM,CAACb,GAAG;OAAG,MAAI,iBAxB/CyC,UAAA,E,QAAAC,mBAAA,e;IAAAT,CAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}