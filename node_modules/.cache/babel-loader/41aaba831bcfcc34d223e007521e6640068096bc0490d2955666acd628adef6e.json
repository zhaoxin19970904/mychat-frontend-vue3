{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { createStore } from 'vuex';\nexport default createStore({\n  state: {\n    messages: []\n  },\n  mutations: {\n    addMessage(state, message) {\n      state.messages.push(message);\n    },\n    initializeState(state, messages) {\n      state.messages = messages;\n    }\n  },\n  actions: {\n    addMessage({\n      commit\n    }, message) {\n      commit('addMessage', message);\n      // 同时更新 localStorage\n      localStorage.setItem('chat_messages', JSON.stringify(this.state.messages));\n    },\n    initializeState({\n      commit\n    }) {\n      // 从 localStorage 中加载聊天记录\n      const messages = JSON.parse(localStorage.getItem('chat_messages'));\n      if (messages && messages.length > 0) {\n        commit('initializeState', messages);\n      }\n    }\n  }\n});","map":{"version":3,"names":["createStore","state","messages","mutations","addMessage","message","push","initializeState","actions","commit","localStorage","setItem","JSON","stringify","parse","getItem","length"],"sources":["C:/Users/bobxi/OneDrive/Desktop/Ecloud/tut8/my-vue-app/src/store/index.js"],"sourcesContent":["import { createStore } from 'vuex';\r\n\r\nexport default createStore({\r\n  state: {\r\n    messages: []\r\n  },\r\n  mutations: {\r\n    addMessage(state, message) {\r\n      state.messages.push(message);\r\n    },\r\n    initializeState(state, messages) {\r\n      state.messages = messages;\r\n    }\r\n  },\r\n  actions: {\r\n    addMessage({ commit }, message) {\r\n      commit('addMessage', message);\r\n      // 同时更新 localStorage\r\n      localStorage.setItem('chat_messages', JSON.stringify(this.state.messages));\r\n    },\r\n    initializeState({ commit }) {\r\n      // 从 localStorage 中加载聊天记录\r\n      const messages = JSON.parse(localStorage.getItem('chat_messages'));\r\n      if (messages && messages.length > 0) {\r\n        commit('initializeState', messages);\r\n      }\r\n    }\r\n  }\r\n});"],"mappings":";AAAA,SAASA,WAAW,QAAQ,MAAM;AAElC,eAAeA,WAAW,CAAC;EACzBC,KAAK,EAAE;IACLC,QAAQ,EAAE;EACZ,CAAC;EACDC,SAAS,EAAE;IACTC,UAAUA,CAACH,KAAK,EAAEI,OAAO,EAAE;MACzBJ,KAAK,CAACC,QAAQ,CAACI,IAAI,CAACD,OAAO,CAAC;IAC9B,CAAC;IACDE,eAAeA,CAACN,KAAK,EAAEC,QAAQ,EAAE;MAC/BD,KAAK,CAACC,QAAQ,GAAGA,QAAQ;IAC3B;EACF,CAAC;EACDM,OAAO,EAAE;IACPJ,UAAUA,CAAC;MAAEK;IAAO,CAAC,EAAEJ,OAAO,EAAE;MAC9BI,MAAM,CAAC,YAAY,EAAEJ,OAAO,CAAC;MAC7B;MACAK,YAAY,CAACC,OAAO,CAAC,eAAe,EAAEC,IAAI,CAACC,SAAS,CAAC,IAAI,CAACZ,KAAK,CAACC,QAAQ,CAAC,CAAC;IAC5E,CAAC;IACDK,eAAeA,CAAC;MAAEE;IAAO,CAAC,EAAE;MAC1B;MACA,MAAMP,QAAQ,GAAGU,IAAI,CAACE,KAAK,CAACJ,YAAY,CAACK,OAAO,CAAC,eAAe,CAAC,CAAC;MAClE,IAAIb,QAAQ,IAAIA,QAAQ,CAACc,MAAM,GAAG,CAAC,EAAE;QACnCP,MAAM,CAAC,iBAAiB,EAAEP,QAAQ,CAAC;MACrC;IACF;EACF;AACF,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}