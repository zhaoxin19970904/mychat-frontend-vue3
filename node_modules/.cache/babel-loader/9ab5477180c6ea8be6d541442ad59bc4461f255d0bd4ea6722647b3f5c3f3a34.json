{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { reactive } from 'vue';\nimport axios from 'axios';\nimport { useRouter } from 'vue-router';\nexport default {\n  __name: 'AddUser',\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    const router = useRouter();\n    const formState = reactive({\n      username: '',\n      password: '',\n      type: '',\n      gender: '',\n      age: 0,\n      email: '',\n      'date-picker': new Date()\n    });\n    const onFinish = async values => {\n      console.log('Success:', values, formState);\n      try {\n        await axios.post('http://localhost:8000/users/student', values);\n        router.push('/');\n      } catch (error) {\n        console.error('Error submitting form', error.response || error);\n        alert('Add failed');\n      }\n    };\n    const onFinishFailed = errorInfo => {\n      console.log('Failed:', errorInfo);\n    };\n    const cancel = () => {\n      router.push(-1);\n    };\n    const labelCol = {\n      style: {\n        width: '150px'\n      }\n    };\n    const wrapperCol = {\n      span: 14\n    };\n    const __returned__ = {\n      router,\n      formState,\n      onFinish,\n      onFinishFailed,\n      cancel,\n      labelCol,\n      wrapperCol,\n      reactive,\n      get axios() {\n        return axios;\n      },\n      get useRouter() {\n        return useRouter;\n      }\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["reactive","axios","useRouter","router","formState","username","password","type","gender","age","email","Date","onFinish","values","console","log","post","push","error","response","alert","onFinishFailed","errorInfo","cancel","labelCol","style","width","wrapperCol","span"],"sources":["C:/Users/bobxi/OneDrive/Desktop/Ecloud/tut8/my-vue-app/src/components/AddUser.vue"],"sourcesContent":["<template>\r\n    <a-form \r\n    :model=\"formState\" \r\n    :label-col=\"labelCol\" \r\n    :wrapper-col=\"wrapperCol\"\r\n    @finish=\"onFinish\"\r\n    @finishFailed=\"onFinishFailed\"\r\n    >\r\n        <a-form-item\r\n      label=\"Username\"\r\n      name=\"username\"\r\n      :rules=\"[{ required: true, message: 'Please input your username!' }]\"\r\n    >\r\n      <a-input v-model:value=\"formState.username\" />\r\n    </a-form-item>\r\n\r\n        <a-form-item\r\n      label=\"Password\"\r\n      name=\"password\"\r\n      :rules=\"[{ required: true, message: 'Please input your password!' }]\"\r\n    >\r\n      <a-input v-model:value=\"formState.password\" />\r\n    </a-form-item>\r\n    \r\n        <a-form-item\r\n      label=\"Email\"\r\n      name=\"email\"\r\n      :rules=\"[{ required: true, message: 'Please input your email!' }]\"\r\n    >\r\n      <a-input v-model:value=\"formState.email\" />\r\n    </a-form-item>\r\n\r\n      <a-form-item label=\"Gender\">\r\n        <a-radio-group v-model:value=\"formState.gender\">\r\n          <a-radio value=\"male\">Male</a-radio>\r\n          <a-radio value=\"female\">Female</a-radio>\r\n        </a-radio-group>\r\n      </a-form-item>\r\n\r\n      <a-form-item label=\"Type\">\r\n        <a-radio-group v-model:value=\"formState.type\">\r\n          <a-radio value=\"admin\">Admin</a-radio>\r\n          <a-radio value=\"client\">Client</a-radio>\r\n        </a-radio-group>\r\n      </a-form-item>\r\n\r\n      <a-form-item name=\"date-picker\" label=\"DatePicker\" v-bind=\"config\">\r\n      <a-date-picker v-model:value=\"formState['date-picker']\" value-format=\"YYYY-MM-DD\" />\r\n    </a-form-item>\r\n\r\n    <a-form-item has-feedback label=\"Age\" name=\"age\">\r\n      <a-input-number v-model:value=\"formState.age\" />\r\n    </a-form-item>\r\n\r\n\r\n      <a-form-item :wrapper-col=\"{ span: 14, offset: 4 }\">\r\n        <a-button type=\"primary\" html-type=\"submit\">Add New User</a-button>\r\n        \r\n      </a-form-item>\r\n    </a-form>\r\n    <a-button  @click=\"cancel\">Cancel</a-button>\r\n  </template>\r\n  <script setup>\r\n  import { reactive } from 'vue';\r\n  import axios from 'axios';\r\n  import { useRouter } from 'vue-router';\r\n  const router = useRouter();\r\n  const formState = reactive({\r\n    username: '',\r\n    password: '',\r\n    type: '',\r\n    gender: '',\r\n    age: 0,\r\n    email: '',\r\n    'date-picker': new Date()\r\n  });\r\nconst onFinish = async values => {\r\n  console.log('Success:', values, formState);\r\n    try{\r\n        await axios.post('http://localhost:8000/users/student',values);\r\n        router.push('/')\r\n\r\n        \r\n    } catch (error) {\r\n    console.error('Error submitting form', error.response || error);\r\n    alert('Add failed');\r\n}\r\n}\r\nconst onFinishFailed = errorInfo => {\r\n  console.log('Failed:', errorInfo);\r\n};\r\nconst cancel = () => {\r\n  router.push(-1);\r\n};\r\n  const labelCol = {\r\n    style: {\r\n      width: '150px',\r\n    },\r\n  };\r\n  const wrapperCol = {\r\n    span: 14,\r\n  };\r\n  </script>\r\n  "],"mappings":";AA+DE,SAASA,QAAQ,QAAQ,KAAK;AAC9B,OAAOC,KAAK,MAAM,OAAO;AACzB,SAASC,SAAS,QAAQ,YAAY;;;;;;;IACtC,MAAMC,MAAM,GAAGD,SAAS,CAAC,CAAC;IAC1B,MAAME,SAAS,GAAGJ,QAAQ,CAAC;MACzBK,QAAQ,EAAE,EAAE;MACZC,QAAQ,EAAE,EAAE;MACZC,IAAI,EAAE,EAAE;MACRC,MAAM,EAAE,EAAE;MACVC,GAAG,EAAE,CAAC;MACNC,KAAK,EAAE,EAAE;MACT,aAAa,EAAE,IAAIC,IAAI,CAAC;IAC1B,CAAC,CAAC;IACJ,MAAMC,QAAQ,GAAG,MAAMC,MAAM,IAAI;MAC/BC,OAAO,CAACC,GAAG,CAAC,UAAU,EAAEF,MAAM,EAAET,SAAS,CAAC;MACxC,IAAG;QACC,MAAMH,KAAK,CAACe,IAAI,CAAC,qCAAqC,EAACH,MAAM,CAAC;QAC9DV,MAAM,CAACc,IAAI,CAAC,GAAG,CAAC;MAGpB,CAAC,CAAC,OAAOC,KAAK,EAAE;QAChBJ,OAAO,CAACI,KAAK,CAAC,uBAAuB,EAAEA,KAAK,CAACC,QAAQ,IAAID,KAAK,CAAC;QAC/DE,KAAK,CAAC,YAAY,CAAC;MACvB;IACA,CAAC;IACD,MAAMC,cAAc,GAAGC,SAAS,IAAI;MAClCR,OAAO,CAACC,GAAG,CAAC,SAAS,EAAEO,SAAS,CAAC;IACnC,CAAC;IACD,MAAMC,MAAM,GAAGA,CAAA,KAAM;MACnBpB,MAAM,CAACc,IAAI,CAAC,CAAC,CAAC,CAAC;IACjB,CAAC;IACC,MAAMO,QAAQ,GAAG;MACfC,KAAK,EAAE;QACLC,KAAK,EAAE;MACT;IACF,CAAC;IACD,MAAMC,UAAU,GAAG;MACjBC,IAAI,EAAE;IACR,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}